<div ng-cloak>
    <div class="row">
        <div class="col-md-12">
            <h1>Juhataja töökoht</h1>

            <div ng-switch="vm.isAuthenticated()">
                <div class="alert alert-success" ng-switch-when="true">
                    Olete sisse logitud kasutajaga {{vm.account.firstName}} {{vm.account.lastName}} (<a href="mailto:{{vm.account.email}}">{{vm.account.email}}</a>).
                    <div class="pull-right">
                        <a href="" ng-click="vm.logout()" id="logout">
                            <span class="glyphicon glyphicon-log-out"></span>&nbsp;
                            <span>Logi välja</span>
                        </a>
                    </div>
                </div>

                <div class="well text-center" ng-switch-when="true">
                    <button class="btn btn-primary" ui-sref="product-view">Toodete nimekirja</button>
                    <button class="btn btn-primary" ui-sref="product-end-view">Toodete lõpetamine</button>
                </div>

                <div class="panel panel-body" ng-switch-when="true">
                <h2>Toodete koondaruanne</h2>
                <table class="table table-striped">
                    <tbody>
                    <tr><th>Olek</th> <th class="text-center">Kokku tooteid</th></tr>
                    <tr ng-repeat="overview in vm.overviews"><td>{{overview.statusName}}</td><td class="text-center"><b>{{overview.total}}</b></td></tr>
                    </tbody>
                </table><br/>
                Kokku tooteid: <b> {{vm.totalProducts}} </b>
                </div>
                <div class="well" ng-switch-when="false">
                    <div class="alert alert-danger" ng-if="vm.authenticationError">Tekkis viga. Kontrollige üle sisestatud andmed!</div>
                    <div class="form-group">
                        <label for="username">Email</label>
                        <input type="text" class="form-control" id="username" placeholder="Your username" ng-model="vm.username">
                    </div>
                    <div class="form-group">
                        <label for="password">Parool</label>
                        <input type="password" class="form-control" id="password" placeholder="Your password"
                               ng-model="vm.password">
                    </div>
                    <div class="form-group">
                        <label for="rememberMe">
                            <input type="checkbox" id="rememberMe" ng-model="vm.rememberMe" checked>
                            <span>Mäleta mind</span>
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary" data-ng-click="vm.login()">Logi sisse</button>
                </div>

            </div>
        </div>
    </div>
</div>
